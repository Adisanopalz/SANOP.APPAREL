<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SANOP APPAREL | Streetwear Indonesia</title>
    
    <!-- SEO & Open Graph (OG) Tags -->
    <meta name="description" content="Toko Streetwear Lokal Terbaik. Koleksi Kaos, Hoodie, dan Aksesoris Premium. Checkout mudah via WhatsApp.">
    <meta property="og:title" content="SANOP APPAREL | Wear Your Identity">
    <meta property="og:description" content="Koleksi Streetwear Terbaru 2026. Bahan Premium, Desain Eksklusif.">
    <meta property="og:image" content="https://images.unsplash.com/photo-1523398002811-999ca8dec234?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80">
    <meta property="og:url" content="https://sanop-apparel.com">
    <meta property="og:type" content="website">

    <!-- Dependency: Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Dependency: FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Dependency: Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Oswald', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            black: '#0f0f0f',
                            gray: '#1f1f1f',
                            accent: '#FF4D00'
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body { background-color: #f3f3f3; color: #0f0f0f; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* 1. Micro-interaction: Active Scale (Tactile Feel) handled by Tailwind classes */
        
        /* 2. Custom Select Arrow */
        .custom-select {
            appearance: none;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 0.5rem center;
            background-repeat: no-repeat;
            background-size: 1.5em 1.5em;
        }

        /* 3. Marquee Animation (Running Text) */
        .marquee-container {
            overflow: hidden;
            white-space: nowrap;
            position: relative;
        }
        .marquee-content {
            display: inline-block;
            animation: marquee 25s linear infinite;
        }
        @keyframes marquee {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); } /* Move half width because we duplicate content */
        }

        /* 4. Scroll Reveal Animation */
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.5, 0, 0, 1);
        }
        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* Toast Animation */
        @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }
        .toast { animation: slideIn 0.3s ease-out forwards; }
        .toast.hiding { animation: fadeOut 0.3s ease-in forwards; }

        /* Floating Animation */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
            100% { transform: translateY(0px); }
        }
        .animate-float {
            animation: float 3s ease-in-out infinite;
        }
    </style>
</head>
<body class="font-sans antialiased relative">

    <!-- Navbar -->
    <nav class="fixed w-full z-50 bg-brand-black/95 backdrop-blur-sm text-white transition-all duration-300 shadow-lg border-b border-gray-800" id="navbar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <div class="flex-shrink-0 cursor-pointer active:scale-95 transition-transform" onclick="window.scrollTo(0,0)">
                    <h1 class="font-display text-3xl font-bold tracking-wider italic">SANOP<span class="text-brand-accent">.</span></h1>
                </div>
                
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-8">
                        <a href="#home" class="hover:text-brand-accent px-3 py-2 rounded-md text-sm font-medium transition active:scale-95">Beranda</a>
                        <a href="#collection" class="hover:text-brand-accent px-3 py-2 rounded-md text-sm font-medium transition active:scale-95">Koleksi</a>
                        <a href="#about" class="hover:text-brand-accent px-3 py-2 rounded-md text-sm font-medium transition active:scale-95">Tentang</a>
                    </div>
                </div>

                <div class="flex items-center gap-6">
                    <!-- Desktop Cart Trigger -->
                    <button onclick="toggleCart()" class="relative hover:text-brand-accent transition hidden md:block active:scale-95">
                        <i class="fas fa-shopping-bag text-xl"></i>
                        <span id="cart-badge" class="absolute -top-2 -right-2 bg-brand-accent text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center opacity-0 transition-opacity">0</span>
                    </button>
                    <!-- Mobile Hamburger -->
                    <button class="md:hidden hover:text-brand-accent transition active:scale-95" onclick="toggleMobileMenu()">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>

        <div id="mobile-menu" class="hidden md:hidden bg-brand-gray border-t border-gray-800">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#home" class="block hover:bg-black px-3 py-2 rounded-md text-base font-medium text-white active:scale-95 transition-transform">Beranda</a>
                <a href="#collection" class="block hover:bg-black px-3 py-2 rounded-md text-base font-medium text-white active:scale-95 transition-transform">Koleksi</a>
                <a href="#about" class="block hover:bg-black px-3 py-2 rounded-md text-base font-medium text-white active:scale-95 transition-transform">Tentang</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="relative h-screen flex items-center justify-center overflow-hidden bg-black">
        <div class="absolute inset-0 z-0">
            <img src="https://images.unsplash.com/photo-1523398002811-999ca8dec234?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80" alt="Streetwear Background" class="w-full h-full object-cover opacity-50 transition-transform duration-[10s] hover:scale-105" loading="lazy">
            <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"></div>
        </div>

        <div class="relative z-10 text-center text-white px-4 reveal">
            <p class="text-brand-accent font-bold tracking-[0.3em] uppercase mb-4 animate-pulse">New Arrival 2026</p>
            <h1 class="font-display text-6xl md:text-8xl font-bold uppercase tracking-tighter mb-6 drop-shadow-lg">Wear Your <br> <span class="text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-500">Identity</span></h1>
            <p class="max-w-xl mx-auto text-gray-300 mb-8 text-lg">Koleksi eksklusif SANOP APPAREL. Didesain untuk kenyamanan, dibentuk untuk gaya jalanan.</p>
            <a href="#collection" class="inline-block bg-brand-accent hover:bg-orange-600 text-white font-bold py-4 px-10 rounded-none transform skew-x-[-10deg] transition-all hover:scale-105 active:scale-95 duration-200 shadow-[4px_4px_0px_0px_rgba(255,255,255,1)] hover:shadow-none">
                <span class="inline-block transform skew-x-[10deg]">BELANJA SEKARANG</span>
            </a>
        </div>
    </section>

    <!-- Running Text (Marquee) Section -->
    <div class="bg-brand-accent text-brand-black font-display font-bold py-3 border-y-2 border-black marquee-container z-20 relative">
        <div class="marquee-content text-xl md:text-2xl tracking-widest uppercase">
            &nbsp; â€¢ FREE SHIPPING SE-INDONESIA â€¢ NEW COLLECTION DROP â€¢ LIMITED STOCK â€¢ SECURE PAYMENT â€¢ FAST DELIVERY â€¢ WEAR YOUR IDENTITY â€¢ SANOP APPAREL â€¢
            &nbsp; â€¢ FREE SHIPPING SE-INDONESIA â€¢ NEW COLLECTION DROP â€¢ LIMITED STOCK â€¢ SECURE PAYMENT â€¢ FAST DELIVERY â€¢ WEAR YOUR IDENTITY â€¢ SANOP APPAREL â€¢
        </div>
    </div>

    <!-- Collection Section -->
    <section id="collection" class="py-20 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex flex-col md:flex-row justify-between items-end mb-12 gap-6 reveal">
            <div>
                <h2 class="font-display text-4xl font-bold text-brand-black uppercase">Produk Terbaru</h2>
                <div class="h-1 w-20 bg-brand-accent mt-2"></div>
            </div>
            <div class="flex flex-wrap gap-2">
                <button class="filter-btn active px-6 py-2 border border-black transition-all active:scale-95 rounded-sm text-sm font-bold uppercase tracking-wide hover:bg-gray-100" onclick="filterProducts('all', this)">Semua</button>
                <button class="filter-btn px-6 py-2 border border-black transition-all active:scale-95 rounded-sm text-sm font-bold uppercase tracking-wide hover:bg-gray-100" onclick="filterProducts('tshirt', this)">Kaos</button>
                <button class="filter-btn px-6 py-2 border border-black transition-all active:scale-95 rounded-sm text-sm font-bold uppercase tracking-wide hover:bg-gray-100" onclick="filterProducts('hoodie', this)">Hoodie</button>
                <button class="filter-btn px-6 py-2 border border-black transition-all active:scale-95 rounded-sm text-sm font-bold uppercase tracking-wide hover:bg-gray-100" onclick="filterProducts('accessories', this)">Aksesoris</button>
            </div>
        </div>

        <div id="product-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
            <!-- Products injected here -->
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="bg-brand-black text-white py-24 overflow-hidden">
        <div class="max-w-7xl mx-auto px-4 grid md:grid-cols-2 gap-12 items-center">
            <div class="relative reveal">
                <div class="absolute -top-4 -left-4 w-full h-full border-2 border-brand-accent z-0"></div>
                <img src="https://images.unsplash.com/photo-1552374196-1ab2a1c593e8?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="About Sanop" class="relative z-10 w-full h-auto grayscale hover:grayscale-0 transition duration-500 hover:scale-[1.02]" loading="lazy">
            </div>
            <div class="reveal">
                <h2 class="font-display text-5xl font-bold mb-6">THE <span class="text-brand-accent">SANOP</span> STORY</h2>
                <p class="text-gray-400 mb-6 leading-relaxed">
                    SANOP APPAREL lahir dari jalanan Jakarta. Kami percaya bahwa pakaian bukan sekadar penutup tubuh, melainkan kanvas untuk mengekspresikan jati diri.
                </p>
                <div class="grid grid-cols-3 gap-4 text-center">
                    <div class="p-4 border border-gray-800 hover:border-brand-accent transition duration-300">
                        <i class="fas fa-tshirt text-2xl mb-2 text-brand-accent"></i>
                        <p class="text-sm font-bold">Premium Cotton</p>
                    </div>
                    <div class="p-4 border border-gray-800 hover:border-brand-accent transition duration-300">
                        <i class="fas fa-shipping-fast text-2xl mb-2 text-brand-accent"></i>
                        <p class="text-sm font-bold">Fast Shipping</p>
                    </div>
                    <div class="p-4 border border-gray-800 hover:border-brand-accent transition duration-300">
                        <i class="fas fa-shield-alt text-2xl mb-2 text-brand-accent"></i>
                        <p class="text-sm font-bold">Authentic</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200 pt-16 pb-8 reveal">
        <div class="max-w-7xl mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-8 mb-12">
            <div class="col-span-1 md:col-span-2">
                <h3 class="font-display text-2xl font-bold italic mb-4">SANOP.</h3>
                <p class="text-gray-600 max-w-sm">Jalanan adalah runway kami. Temukan gaya terbaikmu bersama Sanop Apparel.</p>
            </div>
            <div>
                <h4 class="font-bold mb-4 uppercase">Bantuan</h4>
                <ul class="space-y-2 text-sm text-gray-600">
                    <li><a href="#" class="hover:text-brand-accent transition">Panduan Ukuran</a></li>
                    <li><a href="#" class="hover:text-brand-accent transition">Pengiriman</a></li>
                    <li><a href="#" class="hover:text-brand-accent transition">Pengembalian</a></li>
                </ul>
            </div>
            <div>
                <h4 class="font-bold mb-4 uppercase">Ikuti Kami</h4>
                <div class="flex space-x-4">
                    <a href="#" class="w-10 h-10 bg-black text-white flex items-center justify-center rounded-full hover:bg-brand-accent transition active:scale-90"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="w-10 h-10 bg-black text-white flex items-center justify-center rounded-full hover:bg-brand-accent transition active:scale-90"><i class="fab fa-tiktok"></i></a>
                    <a href="#" class="w-10 h-10 bg-black text-white flex items-center justify-center rounded-full hover:bg-brand-accent transition active:scale-90"><i class="fab fa-whatsapp"></i></a>
                </div>
            </div>
        </div>
        <div class="text-center text-xs text-gray-400 border-t pt-8">
            &copy; 2026 SANOP APPAREL. All rights reserved.
        </div>
    </footer>

    <!-- MOBILE STICKY CART (Floating Action Button) -->
    <button onclick="toggleCart()" class="fixed bottom-6 right-6 z-40 md:hidden bg-brand-accent text-white w-16 h-16 rounded-full shadow-2xl flex items-center justify-center transition duration-300 group animate-float border-4 border-white active:scale-90">
        <i class="fas fa-shopping-bag text-2xl group-hover:rotate-12 transition"></i>
        <!-- Mobile Badge -->
        <span id="mobile-cart-badge" class="absolute top-0 right-0 bg-black text-white text-xs font-bold rounded-full h-6 w-6 flex items-center justify-center border-2 border-white hidden transform translate-x-1 -translate-y-1">0</span>
    </button>

    <!-- Cart Modal -->
    <div id="cart-overlay" class="fixed inset-0 bg-black bg-opacity-70 z-[60] hidden transition-opacity duration-300 opacity-0" onclick="toggleCart()"></div>
    
    <div id="cart-sidebar" class="fixed top-0 right-0 h-full w-full sm:w-[450px] bg-white z-[70] transform translate-x-full transition-transform duration-300 shadow-2xl flex flex-col">
        <div class="p-5 border-b flex justify-between items-center bg-brand-black text-white">
            <h2 class="font-display text-xl font-bold uppercase">Keranjang Belanja</h2>
            <button onclick="toggleCart()" class="text-gray-400 hover:text-white active:scale-90 transition-transform"><i class="fas fa-times text-xl"></i></button>
        </div>

        <div id="cart-items" class="flex-1 overflow-y-auto p-5 space-y-4">
            <!-- Items will be injected here -->
        </div>

        <div id="cart-footer" class="p-5 border-t bg-gray-50 hidden">
            <div class="mb-4 space-y-3">
                <p class="text-xs font-bold uppercase text-gray-500 mb-1">Data Pengiriman</p>
                <input type="text" id="cust-name" placeholder="Nama Lengkap Penerima" class="w-full border border-gray-300 p-3 rounded text-sm focus:outline-none focus:border-brand-accent transition-colors">
                <textarea id="cust-address" placeholder="Alamat Lengkap (Jalan, No. Rumah, Kota, Kecamatan)" rows="2" class="w-full border border-gray-300 p-3 rounded text-sm focus:outline-none focus:border-brand-accent transition-colors"></textarea>
            </div>

            <div class="flex justify-between mb-4 font-bold text-lg border-t border-dashed border-gray-300 pt-3">
                <span>Total:</span>
                <span id="cart-total">Rp 0</span>
            </div>
            <button onclick="checkoutWhatsApp()" class="w-full bg-green-600 hover:bg-green-700 active:scale-95 text-white font-bold py-3 px-4 rounded shadow-lg transition-transform flex items-center justify-center gap-2">
                <i class="fab fa-whatsapp text-xl"></i> Order via WhatsApp
            </button>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="fixed bottom-5 right-5 z-[80] flex flex-col gap-2"></div>

    <!-- JavaScript Logic -->
    <script>
        // Data Produk dengan Opsi Size
        const products = [
            { id: 1, name: "Oversized Tee - Basic Black", category: "tshirt", price: 149000, image: "https://images.unsplash.com/photo-1583743814966-8936f5b7be1a?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80", sizes: ["S", "M", "L", "XL"] },
            { id: 2, name: "Graphic Hoodie - Urban", category: "hoodie", price: 349000, image: "https://images.unsplash.com/photo-1556821840-3a63f95609a7?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80", sizes: ["M", "L", "XL", "XXL"] },
            { id: 3, name: "Cargo Pants - Tactical Grey", category: "pants", price: 299000, image: "https://images.unsplash.com/photo-1517445312882-5636cb2d61b6?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80", sizes: ["28", "30", "32", "34"] },
            { id: 4, name: "Sanop Signature Tee - White", category: "tshirt", price: 159000, image: "https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80", sizes: ["S", "M", "L", "XL"] },
            { id: 5, name: "Distressed Denim Jacket", category: "hoodie", price: 499000, image: "https://images.unsplash.com/photo-1578932750294-f5075e85f44a?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80", sizes: ["M", "L", "XL"] },
            { id: 6, name: "Street Beanie - Orange", category: "accessories", price: 89000, image: "https://images.unsplash.com/photo-1576871337632-b9aef4c17ab9?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80", sizes: ["All Size"] },
            { id: 7, name: "Heavyweight Tee - Cream", category: "tshirt", price: 179000, image: "https://images.unsplash.com/photo-1562157873-818bc0726f68?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80", sizes: ["S", "M", "L", "XL"] },
            { id: 8, name: "Zip Hoodie - Charcoal", category: "hoodie", price: 389000, image: "https://images.unsplash.com/photo-1620799140408-ed5341cd2431?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80", sizes: ["M", "L", "XL"] }
        ];

        let cart = [];

        function loadCart() {
            const savedCart = localStorage.getItem('sanop_cart');
            if (savedCart) {
                cart = JSON.parse(savedCart);
                updateCartUI();
            }
        }

        function saveCart() {
            localStorage.setItem('sanop_cart', JSON.stringify(cart));
        }

        const formatRupiah = (number) => {
            return new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0 }).format(number);
        };

        // Scroll Reveal Observer setup
        const revealObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                    // Optional: Stop observing once revealed
                    // revealObserver.unobserve(entry.target);
                }
            });
        }, {
            threshold: 0.1 // Trigger when 10% visible
        });

        function setupReveal() {
            document.querySelectorAll('.reveal').forEach(el => revealObserver.observe(el));
        }

        function renderProducts(filter = 'all') {
            const grid = document.getElementById('product-grid');
            grid.innerHTML = '';

            const filteredProducts = filter === 'all' ? products : products.filter(p => p.category === filter);

            filteredProducts.forEach((product, index) => {
                const sizeOptions = product.sizes.map(s => `<option value="${s}">${s}</option>`).join('');
                const sizeSelectorHTML = `
                    <div class="mt-2">
                        <label class="text-xs text-gray-500 font-bold uppercase">Size:</label>
                        <select id="size-${product.id}" class="custom-select w-full mt-1 block border-gray-300 focus:border-brand-accent focus:ring-0 text-sm bg-gray-50 p-2 rounded-sm border cursor-pointer hover:border-gray-400 transition-colors">
                            ${sizeOptions}
                        </select>
                    </div>
                `;

                // Added 'reveal' class to product card and slight delay based on index
                const productHTML = `
                    <div class="product-card reveal group relative bg-white shadow-sm hover:shadow-xl transition-all duration-300 flex flex-col h-full" style="transition-delay: ${index * 50}ms">
                        <div class="relative overflow-hidden aspect-[3/4]">
                            <img src="${product.image}" alt="${product.name}" loading="lazy" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                            <!-- Button Overlay -->
                            <div class="absolute inset-0 bg-black bg-opacity-10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center pb-6">
                                <button onclick="addToCart(${product.id})" class="translate-y-4 group-hover:translate-y-0 transition-transform duration-300 bg-white text-black font-bold py-3 px-8 hover:bg-brand-accent hover:text-white shadow-lg border border-black active:scale-95">
                                    + KERANJANG
                                </button>
                            </div>
                        </div>
                        <div class="p-4 flex flex-col flex-1 justify-between">
                            <div>
                                <h3 class="font-display text-lg font-bold uppercase truncate" title="${product.name}">${product.name}</h3>
                                <p class="text-gray-500 mt-1 font-medium">${formatRupiah(product.price)}</p>
                            </div>
                            ${sizeSelectorHTML}
                        </div>
                    </div>
                `;
                grid.innerHTML += productHTML;
            });

            // Re-initialize observer for new elements
            setupReveal();
        }

        function filterProducts(category, btnElement) {
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            if(btnElement) btnElement.classList.add('active');
            renderProducts(category);
        }

        function addToCart(id) {
            const product = products.find(p => p.id === id);
            const sizeSelect = document.getElementById(`size-${id}`);
            const selectedSize = sizeSelect.value;
            const cartItemId = `${id}-${selectedSize}`;

            const existingItem = cart.find(item => item.cartItemId === cartItemId);

            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    ...product,
                    selectedSize: selectedSize,
                    cartItemId: cartItemId, 
                    quantity: 1
                });
            }

            saveCart();
            updateCartUI();
            showToast(`"${product.name} (${selectedSize})" masuk keranjang!`);
            
            const sidebar = document.getElementById('cart-sidebar');
            if (sidebar.classList.contains('translate-x-full')) {
                toggleCart();
            }
        }

        function removeFromCart(cartItemId) {
            cart = cart.filter(item => item.cartItemId !== cartItemId);
            saveCart();
            updateCartUI();
        }

        function changeQty(cartItemId, change) {
            const item = cart.find(i => i.cartItemId === cartItemId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(cartItemId);
                } else {
                    saveCart();
                    updateCartUI();
                }
            }
        }

        function updateCartUI() {
            const cartContainer = document.getElementById('cart-items');
            const cartTotal = document.getElementById('cart-total');
            const cartBadge = document.getElementById('cart-badge');
            const mobileCartBadge = document.getElementById('mobile-cart-badge');
            const cartFooter = document.getElementById('cart-footer');

            const totalQty = cart.reduce((sum, item) => sum + item.quantity, 0);
            
            if(cartBadge) {
                cartBadge.innerText = totalQty;
                cartBadge.style.opacity = totalQty > 0 ? 1 : 0;
            }

            if(mobileCartBadge) {
                mobileCartBadge.innerText = totalQty;
                if(totalQty > 0) {
                    mobileCartBadge.classList.remove('hidden');
                    mobileCartBadge.classList.add('flex');
                } else {
                    mobileCartBadge.classList.add('hidden');
                    mobileCartBadge.classList.remove('flex');
                }
            }

            if (cart.length === 0) {
                cartContainer.innerHTML = `
                    <div class="flex flex-col items-center justify-center h-full text-center p-6">
                        <div class="w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mb-4 text-gray-400">
                            <i class="fas fa-shopping-basket text-3xl"></i>
                        </div>
                        <h3 class="font-bold text-lg mb-2">Keranjangmu Kosong</h3>
                        <p class="text-gray-500 text-sm mb-6">Yuk pilih size baju favoritmu dulu.</p>
                        <button onclick="toggleCart()" class="bg-brand-black text-white px-6 py-2 rounded font-bold hover:bg-brand-accent active:scale-95 transition-transform">
                            Lihat Katalog
                        </button>
                    </div>`;
                cartFooter.classList.add('hidden');
                return;
            }

            cartFooter.classList.remove('hidden');
            cartContainer.innerHTML = '';
            let total = 0;

            cart.forEach(item => {
                total += item.price * item.quantity;
                cartContainer.innerHTML += `
                    <div class="flex gap-4 mb-4 border-b pb-4 animate-fadeIn">
                        <img src="${item.image}" class="w-20 h-24 object-cover flex-shrink-0 border rounded-sm">
                        <div class="flex-1 flex flex-col justify-between">
                            <div>
                                <h4 class="font-bold text-sm uppercase line-clamp-1">${item.name}</h4>
                                <div class="flex items-center gap-2 mt-1">
                                    <span class="text-xs bg-gray-200 px-2 py-0.5 rounded font-bold text-gray-700">Size: ${item.selectedSize}</span>
                                </div>
                                <p class="text-xs text-gray-500 mt-1">${formatRupiah(item.price)}</p>
                            </div>
                            <div class="flex justify-between items-center mt-2">
                                <div class="flex items-center border border-gray-300 rounded-sm overflow-hidden">
                                    <button onclick="changeQty('${item.cartItemId}', -1)" class="px-2 py-1 text-gray-600 hover:bg-gray-100 active:bg-gray-200 transition">-</button>
                                    <span class="px-2 text-sm font-medium w-8 text-center">${item.quantity}</span>
                                    <button onclick="changeQty('${item.cartItemId}', 1)" class="px-2 py-1 text-gray-600 hover:bg-gray-100 active:bg-gray-200 transition">+</button>
                                </div>
                                <button onclick="removeFromCart('${item.cartItemId}')" class="text-red-500 text-xs hover:text-red-700 transition active:scale-90"><i class="fas fa-trash"></i></button>
                            </div>
                        </div>
                    </div>
                `;
            });

            cartTotal.innerText = formatRupiah(total);
        }

        function toggleCart() {
            const sidebar = document.getElementById('cart-sidebar');
            const overlay = document.getElementById('cart-overlay');
            
            if (sidebar.classList.contains('translate-x-full')) {
                sidebar.classList.remove('translate-x-full');
                overlay.classList.remove('hidden');
                setTimeout(() => overlay.classList.remove('opacity-0'), 10);
                document.body.style.overflow = 'hidden'; 
            } else {
                sidebar.classList.add('translate-x-full');
                overlay.classList.add('opacity-0');
                setTimeout(() => overlay.classList.add('hidden'), 300);
                document.body.style.overflow = 'auto';
            }
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        function showToast(message, isError = false) {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            
            const bgClass = isError ? 'bg-red-600' : 'bg-black';
            const iconClass = isError ? 'fa-exclamation-circle text-white' : 'fa-check-circle text-green-400';

            toast.className = `toast ${bgClass} text-white px-6 py-3 shadow-lg flex items-center gap-3 rounded z-50`;
            toast.innerHTML = `<i class="fas ${iconClass}"></i> <span class="text-sm font-medium">${message}</span>`;
            
            container.appendChild(toast);

            setTimeout(() => {
                toast.classList.add('hiding');
                toast.addEventListener('animationend', () => toast.remove());
            }, 3000);
        }

        function checkoutWhatsApp() {
            if (cart.length === 0) return;

            const nameInput = document.getElementById('cust-name');
            const addressInput = document.getElementById('cust-address');
            
            const name = nameInput.value.trim();
            const address = addressInput.value.trim();

            if (!name || !address) {
                showToast("Mohon isi Nama & Alamat dulu!", true);
                if(!name) nameInput.focus();
                else addressInput.focus();
                return;
            }

            const phoneNumber = "628123456789"; 
            
            let message = `*ORDER BARU - SANOP APPAREL*%0a`;
            message += `--------------------------------%0a`;
            message += `ðŸ‘¤ Nama: *${name}*%0a`;
            message += `ðŸ“ Alamat: ${address}%0a`;
            message += `--------------------------------%0a%0a`;
            message += `*DAFTAR PESANAN:*%0a`;

            let total = 0;

            cart.forEach((item, index) => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                message += `${index + 1}. ${item.name} *(Size ${item.selectedSize})* %0ax${item.quantity} â€” ${formatRupiah(itemTotal)}%0a%0a`;
            });

            message += `--------------------------------%0a`;
            message += `*TOTAL TAGIHAN: ${formatRupiah(total)}*%0a`;
            message += `--------------------------------%0a`;
            message += `Mohon info ongkos kirim dan rekening pembayaran ya, Min. Terima kasih!`;

            const url = `https://wa.me/${phoneNumber}?text=${message}`; 
            window.open(url, '_blank');
        }

        // Init
        renderProducts();
        loadCart();
        setupReveal(); // Initial observer call for static elements
    </script>
</body>
</html>
